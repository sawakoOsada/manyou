<%= form_with(model: @task, local: true) do |f| %>
  <% if @task.errors.any? %>
    <div id="error_explanation">
      <h2><%= @task.errors.count %>件のエラーがあります。</h2>
      <ul>
      <% @task.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
      </ul>
    </div>
  <% end %>
  <table class="task_form">
    <tr>
      <th><%= f.label :name %></th>
      <td><%= f.text_field :name, id: 'タスク名' %></td>
    </tr>
    <tr>
      <th><%= f.label :content %></th>
      <td><%= f.text_field :content, id: 'タスク詳細' %></td>
    </tr>
    <tr>
      <th><%= f.label :deadline %></th>
      <td><%= f.datetime_select :deadline, id: '終了期限' %></td>
    </tr>
    <tr>
      <th><%= f.label :state %></th>
      <td><%= f.select :state, Task.states.keys.to_a, id: 'ステータス' %></td>
    </tr>
    <tr>
      <th><%= f.label :priority %></th>
      <td><%= f.select :priority, Task.priorities.keys.to_a, id: '優先順位' %></td>
    </tr>
    <tr>
      <th><%= f.label :label %></th>
      <td><%= f.collection_check_boxes(:label_ids, Label.all, :id, :name) %></td>
    </tr>
  </table>
  <div class="action">
    <%= f.submit  class:"btn btn-success" %>
  </div>
<% end %>
<div class="link">
  <%= link_to t('.task_index'), tasks_path %>
</div>
